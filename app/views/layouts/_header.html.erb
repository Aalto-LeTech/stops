<div id="header" class="header">
  <!-- Logo -->
  <div class="logo">A<span class="ex">!</span></div>
  
  <!-- Login -->
  <div class="login">
    <%
    user = current_user
    if user
    %>
      <%= link_to "#{user.name}", preferences_path %>
    <% end %>
  </div>

  <div class="navibar">
    <ul>
      <% 
      # Language
      # Only show the language button for GET requests. If the current page is the result of a POST request, doing a GET request to the same URL could lead to a different view or a 404.
      if request.get? %>
        <li><%= link_to 'FI', url_for(:locale => 'fi') %></li>
        <li><%= link_to 'EN', url_for(:locale => 'en') %></li>
      <% end %>

      <% if user_signed_in? %>
        <li><%= link_to 'My preferences', preferences_path %></li>
        <li><%= link_to 'Logout', destroy_user_session_path %></li>
      <% else %>
        <li><%= link_to 'Login', url_for(:require_login => true) %></li>
      <% end %>
    </ul>
  </div>
</div>

<div class="clear"></div>
